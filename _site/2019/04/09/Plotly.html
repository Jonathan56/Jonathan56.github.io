<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Plotly useful tips</title>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Sans+Pro:300,300i,600">
  <link rel="stylesheet" href="/style.css">
</head>
<body>
  <div class="container">
    <header class="masthead">
  <h1 class="masthead-title--small">
    <a href="/blog">&lArr; Jonathan&#39;s blog</a>
  </h1>
</header>
<div class="content post">
  <h1 class="post-title">Plotly useful tips</h1>
  <div class="post-date">
    <time>09 Apr 2019</time>
  </div>
  <p>Plotly ideas. I wish I could directly turn my notebook into Jekyll posts, but it is a bit annoying.</p>

<!--more-->

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Import plot making tools</span>
<span class="kn">from</span> <span class="nn">plotly.offline</span> <span class="kn">import</span> <span class="n">init_notebook_mode</span><span class="p">,</span> <span class="n">iplot</span>
<span class="n">init_notebook_mode</span><span class="p">(</span><span class="n">connected</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</code></pre></div></div>

<!-- <head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head> -->

<h1 id="line-plot">Line plot</h1>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>'#1f77b4',  // muted blue
'#ff7f0e',  // safety orange
'#2ca02c',  // cooked asparagus green
'#d62728',  // brick red
'#9467bd',  // muted purple
'#8c564b',  // chestnut brown
'#e377c2',  // raspberry yogurt pink
'#7f7f7f',  // middle gray
'#bcbd22',  // curry yellow-green
'#17becf'   // blue-teal
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'data'</span><span class="p">:</span> <span class="p">[</span>

        <span class="p">{</span><span class="s">'x'</span><span class="p">:</span> <span class="n">df</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
         <span class="s">'y'</span><span class="p">:</span> <span class="n">df</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="p">]</span><span class="o">.</span><span class="n">MT_001</span><span class="p">,</span>
         <span class="s">'mode'</span><span class="p">:</span> <span class="s">'lines'</span><span class="p">,</span>
         <span class="s">'line'</span><span class="p">:</span> <span class="p">{</span><span class="s">'width'</span> <span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s">'color'</span><span class="p">:</span> <span class="s">'#1f77b4'</span><span class="p">},</span>
         <span class="s">'name'</span><span class="p">:</span> <span class="s">'MT_001'</span><span class="p">},</span>

        <span class="p">{</span><span class="s">'x'</span><span class="p">:</span> <span class="n">df</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
         <span class="s">'y'</span><span class="p">:</span> <span class="n">df</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="p">]</span><span class="o">.</span><span class="n">MT_002</span><span class="p">,</span>
         <span class="s">'mode'</span><span class="p">:</span> <span class="s">'lines'</span><span class="p">,</span>
         <span class="s">'line'</span><span class="p">:</span> <span class="p">{</span><span class="s">'width'</span> <span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s">'color'</span><span class="p">:</span> <span class="s">'#ff7f0e'</span><span class="p">},</span>
         <span class="s">'fill'</span><span class="p">:</span> <span class="s">'tonexty'</span><span class="p">,</span>
         <span class="s">'name'</span><span class="p">:</span> <span class="s">'MT_002'</span><span class="p">},</span>

        <span class="p">{</span><span class="s">'x'</span><span class="p">:</span> <span class="n">df</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
         <span class="s">'y'</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">),</span>
         <span class="s">'mode'</span><span class="p">:</span> <span class="s">'lines'</span><span class="p">,</span>
         <span class="s">'opacity'</span><span class="p">:</span> <span class="mf">0.7</span><span class="p">,</span>
         <span class="s">'line'</span><span class="p">:</span> <span class="p">{</span><span class="s">'width'</span> <span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s">'color'</span><span class="p">:</span> <span class="s">'#d62728'</span><span class="p">,</span>
                  <span class="s">'dash'</span><span class="p">:</span> <span class="s">'dash'</span><span class="p">},</span>
         <span class="s">'name'</span><span class="p">:</span> <span class="s">'Threshold'</span><span class="p">},</span>
    <span class="p">]</span>
<span class="p">,</span>
    <span class="s">'layout'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'xaxis'</span><span class="p">:</span> <span class="p">{</span><span class="s">'title'</span><span class="p">:</span> <span class="s">'Datetime'</span><span class="p">},</span>
        <span class="s">'yaxis'</span><span class="p">:</span> <span class="p">{</span><span class="s">'title'</span><span class="p">:</span> <span class="s">'Power demand [kW]'</span><span class="p">},</span>
        <span class="s">'showlegend'</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
        <span class="s">'legend'</span><span class="p">:</span> <span class="p">{</span><span class="s">'x'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s">'y'</span><span class="p">:</span> <span class="mf">1.1</span><span class="p">},</span>
        <span class="s">'font'</span><span class="p">:</span> <span class="p">{</span><span class="s">'size'</span><span class="p">:</span> <span class="mi">16</span><span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="n">iplot</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">plotly.io</span> <span class="k">as</span> <span class="n">pio</span>
<span class="n">pio</span><span class="o">.</span><span class="n">write_image</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="s">'lineplot.pdf'</span><span class="p">)</span>  <span class="c">#svg, png</span>
</code></pre></div></div>

<h1 id="scatter-plot">Scatter plot</h1>
<h2 id="without-text">Without text</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'data'</span><span class="p">:</span> <span class="p">[</span>

        <span class="p">{</span><span class="s">'x'</span><span class="p">:</span> <span class="n">x</span><span class="p">,</span>
         <span class="s">'y'</span><span class="p">:</span> <span class="n">y</span><span class="p">,</span>
         <span class="s">'mode'</span><span class="p">:</span> <span class="s">'markers'</span><span class="p">,</span>
         <span class="s">'marker'</span><span class="p">:</span> <span class="p">{</span>
             <span class="s">'size'</span> <span class="p">:</span> <span class="mi">14</span><span class="p">,</span>
             <span class="s">'color'</span><span class="p">:</span> <span class="s">'#1f77b4'</span><span class="p">,</span>
             <span class="s">'opacity'</span><span class="p">:</span> <span class="mf">0.7</span><span class="p">,</span>
             <span class="s">'line'</span><span class="p">:</span> <span class="p">{</span><span class="s">'width'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'color'</span><span class="p">:</span> <span class="s">'black'</span><span class="p">}},</span>
         <span class="s">'name'</span><span class="p">:</span> <span class="s">'no name'</span><span class="p">},</span>

    <span class="p">]</span>
<span class="p">,</span>
    <span class="s">'layout'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'xaxis'</span><span class="p">:</span> <span class="p">{</span><span class="s">'title'</span><span class="p">:</span> <span class="s">'Energy [kWh]'</span><span class="p">},</span>
        <span class="s">'yaxis'</span><span class="p">:</span> <span class="p">{</span><span class="s">'title'</span><span class="p">:</span> <span class="s">'Power demand [kW]'</span><span class="p">},</span>
        <span class="s">'showlegend'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
        <span class="s">'legend'</span><span class="p">:</span> <span class="p">{</span><span class="s">'x'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s">'y'</span><span class="p">:</span> <span class="mf">1.1</span><span class="p">},</span>
        <span class="s">'font'</span><span class="p">:</span> <span class="p">{</span><span class="s">'size'</span><span class="p">:</span> <span class="mi">16</span><span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="n">iplot</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span>
</code></pre></div></div>
<h2 id="with-text">With text</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'data'</span><span class="p">:</span> <span class="p">[</span>

    <span class="p">{</span><span class="s">'x'</span><span class="p">:</span> <span class="n">x</span><span class="p">,</span>  <span class="c">#kWh</span>
     <span class="s">'y'</span><span class="p">:</span> <span class="n">y</span><span class="p">,</span>
     <span class="s">'mode'</span><span class="p">:</span> <span class="s">'markers+text'</span><span class="p">,</span>
     <span class="s">'marker'</span><span class="p">:</span> <span class="p">{</span>
         <span class="s">'size'</span> <span class="p">:</span> <span class="mi">14</span><span class="p">,</span>
         <span class="s">'color'</span><span class="p">:</span> <span class="s">'#1f77b4'</span><span class="p">,</span>
         <span class="s">'opacity'</span><span class="p">:</span> <span class="mf">0.7</span><span class="p">,</span>
         <span class="s">'line'</span><span class="p">:</span> <span class="p">{</span><span class="s">'width'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'color'</span><span class="p">:</span> <span class="s">'black'</span><span class="p">}},</span>
     <span class="s">'name'</span><span class="p">:</span> <span class="s">'no name'</span><span class="p">,</span>
     <span class="s">'text'</span><span class="p">:</span> <span class="n">x_text</span><span class="p">,</span>
     <span class="s">'textposition'</span><span class="p">:</span> <span class="s">'middle right'</span><span class="p">,</span>
     <span class="s">'textfont'</span><span class="p">:</span> <span class="p">{</span><span class="s">'size'</span><span class="p">:</span> <span class="mi">13</span><span class="p">}}</span>

    <span class="p">]</span>
<span class="p">,</span>
    <span class="s">'layout'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'xaxis'</span><span class="p">:</span> <span class="p">{</span><span class="s">'title'</span><span class="p">:</span> <span class="s">'Energy [kWh]'</span><span class="p">},</span>
        <span class="s">'yaxis'</span><span class="p">:</span> <span class="p">{</span><span class="s">'title'</span><span class="p">:</span> <span class="s">'Power demand [kW]'</span><span class="p">},</span>
        <span class="s">'showlegend'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
        <span class="s">'legend'</span><span class="p">:</span> <span class="p">{</span><span class="s">'x'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s">'y'</span><span class="p">:</span> <span class="mf">1.1</span><span class="p">},</span>
        <span class="s">'font'</span><span class="p">:</span> <span class="p">{</span><span class="s">'size'</span><span class="p">:</span> <span class="mi">16</span><span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="n">iplot</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span>
</code></pre></div></div>

<h1 id="bar-plot">Bar plot</h1>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'data'</span><span class="p">:</span> <span class="p">[</span>

        <span class="p">{</span><span class="s">'x'</span><span class="p">:</span> <span class="n">tmp</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
         <span class="s">'y'</span><span class="p">:</span> <span class="n">tmp</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">tmp</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
         <span class="s">'type'</span><span class="p">:</span> <span class="s">'bar'</span><span class="p">,</span>
         <span class="s">'marker'</span><span class="p">:</span> <span class="p">{</span><span class="s">'color'</span><span class="p">:</span> <span class="s">'rgba(55, 128, 191, 0.7)'</span><span class="p">,</span>
                    <span class="s">'line'</span><span class="p">:</span> <span class="p">{</span><span class="s">'width'</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
                             <span class="s">'color'</span><span class="p">:</span> <span class="s">'rgba(55, 128, 191, 1.0)'</span><span class="p">}},</span>
         <span class="s">'name'</span><span class="p">:</span> <span class="n">tmp</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">]},</span>

        <span class="p">{</span><span class="s">'x'</span><span class="p">:</span> <span class="n">tmp</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
         <span class="s">'y'</span><span class="p">:</span> <span class="n">tmp</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">tmp</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">2</span><span class="p">]],</span>
         <span class="s">'type'</span><span class="p">:</span> <span class="s">'bar'</span><span class="p">,</span>
         <span class="s">'marker'</span><span class="p">:</span> <span class="p">{</span><span class="s">'color'</span><span class="p">:</span> <span class="s">'rgba(255, 127, 14, 0.7)'</span><span class="p">,</span>
                    <span class="s">'line'</span><span class="p">:</span> <span class="p">{</span><span class="s">'width'</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
                             <span class="s">'color'</span><span class="p">:</span> <span class="s">'rgba(255, 127, 14, 1.0)'</span><span class="p">}},</span>
         <span class="s">'name'</span><span class="p">:</span> <span class="n">tmp</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">2</span><span class="p">]}</span>
    <span class="p">]</span>
<span class="p">,</span>
    <span class="s">'layout'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'xaxis'</span><span class="p">:</span> <span class="p">{</span><span class="s">'title'</span><span class="p">:</span> <span class="s">'Energy [kWh]'</span><span class="p">,</span> <span class="s">'dtick'</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span>
        <span class="s">'yaxis'</span><span class="p">:</span> <span class="p">{</span><span class="s">'title'</span><span class="p">:</span> <span class="s">'Power demand [kW]'</span><span class="p">},</span>
        <span class="s">'barmode'</span><span class="p">:</span> <span class="s">'group'</span><span class="p">,</span>
        <span class="s">'showlegend'</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
        <span class="s">'legend'</span><span class="p">:</span> <span class="p">{</span><span class="s">'x'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s">'y'</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">},</span>
        <span class="s">'font'</span><span class="p">:</span> <span class="p">{</span><span class="s">'size'</span><span class="p">:</span> <span class="mi">16</span><span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="n">iplot</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span>
</code></pre></div></div>

<h1 id="subplots">Subplots</h1>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">plotly</span> <span class="kn">import</span> <span class="n">tools</span>
<span class="n">rows</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">cols</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">make_subplots</span><span class="p">(</span>
    <span class="n">print_grid</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="n">rows</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span>
    <span class="n">shared_yaxes</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">shared_xaxes</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">subplot_titles</span><span class="o">=</span><span class="n">tmp</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">rows</span><span class="o">*</span><span class="n">cols</span><span class="p">],</span>
    <span class="n">horizontal_spacing</span> <span class="o">=</span> <span class="mf">0.05</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="n">subindex</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unravel_index</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">rows</span><span class="o">*</span><span class="n">cols</span><span class="p">),</span> <span class="p">(</span><span class="n">rows</span><span class="p">,</span> <span class="n">cols</span><span class="p">))</span>

<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">column</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">tmp</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">rows</span><span class="o">*</span><span class="n">cols</span><span class="p">]):</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">append_trace</span><span class="p">(</span>
        <span class="p">{</span><span class="s">'x'</span><span class="p">:</span> <span class="n">df</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
         <span class="s">'y'</span><span class="p">:</span> <span class="n">df</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="p">][</span><span class="n">column</span><span class="p">],</span>
         <span class="s">'mode'</span><span class="p">:</span> <span class="s">'lines'</span><span class="p">,</span>
         <span class="s">'line'</span><span class="p">:</span> <span class="p">{</span><span class="s">'width'</span> <span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s">'color'</span><span class="p">:</span> <span class="s">'#ff7f0e'</span><span class="p">},</span>
         <span class="s">'fill'</span><span class="p">:</span> <span class="s">'tonexty'</span><span class="p">,</span>
         <span class="s">'name'</span><span class="p">:</span> <span class="n">column</span><span class="p">},</span>
        <span class="nb">int</span><span class="p">(</span><span class="n">subindex</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">index</span><span class="p">])</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
        <span class="nb">int</span><span class="p">(</span><span class="n">subindex</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">index</span><span class="p">])</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">fig</span><span class="p">[</span><span class="s">'layout'</span><span class="p">][</span><span class="s">'yaxis1'</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s">'Power Demand [kW]'</span><span class="p">)</span>
<span class="n">fig</span><span class="p">[</span><span class="s">'layout'</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
    <span class="n">showlegend</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">rows</span><span class="o">*</span><span class="mi">200</span><span class="p">)</span>    
<span class="n">iplot</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span>
</code></pre></div></div>

<h1 id="distribution-plot">Distribution plot</h1>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">plotly.figure_factory</span> <span class="k">as</span> <span class="n">ff</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">ff</span><span class="o">.</span><span class="n">create_distplot</span><span class="p">(</span>
    <span class="p">[</span><span class="n">tmp</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">tmp</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">4</span><span class="p">]],</span> <span class="n">tmp</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">tmp</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">14</span><span class="p">]]],</span>
    <span class="p">[</span><span class="n">tmp</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">tmp</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">2</span><span class="p">]],</span> <span class="n">show_rug</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
    <span class="n">show_hist</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">histnorm</span><span class="o">=</span><span class="s">'percent'</span><span class="p">)</span>  <span class="c"># Remove percent to get density</span>
<span class="n">fig</span><span class="p">[</span><span class="s">'layout'</span><span class="p">][</span><span class="s">'yaxis'</span><span class="p">][</span><span class="s">'title'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'Density Probability'</span>
<span class="n">fig</span><span class="p">[</span><span class="s">'layout'</span><span class="p">][</span><span class="s">'xaxis'</span><span class="p">][</span><span class="s">'title'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'Power demand [kW]'</span>
<span class="n">fig</span><span class="p">[</span><span class="s">'layout'</span><span class="p">][</span><span class="s">'xaxis'</span><span class="p">][</span><span class="s">'dtick'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">fig</span><span class="p">[</span><span class="s">'layout'</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">font</span><span class="o">=</span><span class="p">{</span><span class="s">'size'</span><span class="p">:</span> <span class="mi">16</span><span class="p">})</span>
<span class="n">iplot</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span>
</code></pre></div></div>

<h1 id="boxplot">Boxplot</h1>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'data'</span><span class="p">:</span> <span class="p">[</span>

        <span class="p">{</span>
         <span class="s">'y'</span><span class="p">:</span> <span class="n">tmp</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">tmp</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">i</span><span class="p">]],</span>
         <span class="s">'type'</span><span class="p">:</span> <span class="s">'box'</span><span class="p">,</span>
         <span class="s">'marker'</span><span class="p">:</span> <span class="p">{</span><span class="s">'color'</span><span class="p">:</span> <span class="s">'rgba(55, 128, 191, 0.7)'</span><span class="p">,</span>
                    <span class="s">'line'</span><span class="p">:</span> <span class="p">{</span><span class="s">'width'</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
                             <span class="s">'color'</span><span class="p">:</span> <span class="s">'rgba(55, 128, 191, 1.0)'</span><span class="p">}},</span>
         <span class="s">'name'</span><span class="p">:</span> <span class="n">tmp</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">i</span><span class="p">]}</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
    <span class="p">]</span>
<span class="p">,</span>
    <span class="s">'layout'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'xaxis'</span><span class="p">:</span> <span class="p">{</span><span class="s">'title'</span><span class="p">:</span> <span class="s">'Client'</span><span class="p">,</span> <span class="s">'dtick'</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
        <span class="s">'yaxis'</span><span class="p">:</span> <span class="p">{</span><span class="s">'title'</span><span class="p">:</span> <span class="s">'Power demand [kW]'</span><span class="p">},</span>
        <span class="s">'showlegend'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
        <span class="s">'legend'</span><span class="p">:</span> <span class="p">{</span><span class="s">'x'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s">'y'</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">},</span>
        <span class="s">'font'</span><span class="p">:</span> <span class="p">{</span><span class="s">'size'</span><span class="p">:</span> <span class="mi">16</span><span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="n">iplot</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Correlation map</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Pie chart</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Open street map</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Parallel coordinates</span>
</code></pre></div></div>

</div>

  </div>
</body>
</html>
